{"version":3,"file":"static/js/744.1bdcdf7c.chunk.js","mappings":"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","sources":["components/UI/Input/Input.js","containers/Auth/Auth.js"],"sourcesContent":["import React from \"react\";\n\nimport \"./Input.css\";\n\nconst Input = (props) => {\n    let inputElement = null;\n    const inputClasses = [\"InputElement\"];\n\n    if (props.invalid && props.shouldValidate && props.touched) {\n        inputClasses.push(\"Invalid\");\n    }\n\n    switch (props.elementType) {\n        case \"input\":\n            inputElement = (\n                <input\n                    className={inputClasses.join(\" \")}\n                    {...props.elementConfig}\n                    value={props.value}\n                    onChange={props.changed}\n                />\n            );\n            break;\n        case \"textarea\":\n            inputElement = (\n                <textarea\n                    className={inputClasses.join(\" \")}\n                    {...props.elementConfig}\n                    value={props.value}\n                    onChange={props.changed}\n                />\n            );\n            break;\n        case \"select\":\n            inputElement = (\n                <select\n                    className={inputClasses.join(\" \")}\n                    value={props.value}\n                    {...props.elementConfig}\n                    onChange={props.changed}\n                >\n                    {props.elementConfig.options.map((option) => (\n                        <option key={option.value} value={option.value}>\n                            {option.displayValue}\n                        </option>\n                    ))}\n                </select>\n            );\n            break;\n        default:\n            inputElement = (\n                <input\n                    className={inputClasses.join(\" \")}\n                    {...props.elementConfig}\n                    value={props.value}\n                    onChange={props.changed}\n                />\n            );\n            break;\n    }\n\n    return (\n        <div className=\"Input\">\n            {props.label && <label className=\"Label\">{props.label}</label>}\n            {inputElement}\n        </div>\n    );\n};\n\nexport default Input;\n","import React, { useEffect, useState } from \"react\";\nimport Input from \"../../components/UI/Input/Input\";\nimport Button from \"../../components/UI/Button/Button\";\nimport Spinner from \"../../components/UI/Spinner/Spinner\";\nimport \"./Auth.css\";\nimport * as actions from \"../../store/actions/index\";\nimport { connect } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst Auth = (props) => {\n    const [controls, setControls] = useState({\n        email: {\n            elementType: \"input\",\n            elementConfig: {\n                type: \"email\",\n                placeholder: \"Mail Address\",\n            },\n            value: \"\",\n            validation: {\n                required: true,\n                isEmail: true,\n            },\n            valid: false,\n            touched: false,\n        },\n        password: {\n            elementType: \"input\",\n            elementConfig: {\n                type: \"password\",\n                placeholder: \"Password\",\n            },\n            value: \"\",\n            validation: {\n                required: true,\n                minLength: 6,\n            },\n            valid: false,\n            touched: false,\n        },\n    });\n    const [isSignup, setIsSignup] = useState(true);\n    let navigate = useNavigate();\n\n    const checkValidity = (value, rules) => {\n        let isValid = true;\n\n        if (rules.required) {\n            isValid = value.trim() !== \"\" && isValid;\n        }\n\n        if (rules.minLength) {\n            isValid = value.length >= rules.minLength && isValid;\n        }\n\n        if (rules.isEmail) {\n            const pattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n            isValid = pattern.test(value) && isValid;\n        }\n\n        return isValid;\n    };\n\n    const inputChangedHandler = (event, controlName) => {\n        const updatedControls = {\n            ...controls,\n            [controlName]: {\n                ...controls[controlName],\n                value: event.target.value,\n                valid: checkValidity(\n                    event.target.value,\n                    controls[controlName].validation\n                ),\n                touched: true,\n            },\n        };\n        setControls(updatedControls);\n    };\n\n    const submitHandler = (event) => {\n        event.preventDefault();\n        props.onAuth(controls.email.value, controls.password.value, isSignup);\n    };\n\n    const switchAuthModeHandler = () => {\n        setIsSignup((prevState) => !prevState);\n    };\n\n    // if (props.error) {\n    //     return <p>{props.error.message}</p>;\n    // }\n    useEffect(() => {\n        if (props.buildingBurger === false && props.authRedirectPath !== \"/\") {\n            props.onSetRedirectPath();\n        }\n        if (props.isAuthenticated) {\n            navigate(props.authRedirectPath);\n        }\n    },[]);\n\n    return (\n        <div className=\"Auth\">\n            {props.error && <p>{props.error.message}</p>}\n            {props.loading ? (\n                <Spinner />\n            ) : (\n                <>\n                    <form onSubmit={submitHandler}>\n                        {Object.keys(controls).map((key) => (\n                            <Input\n                                key={key}\n                                elementType={controls[key].elementType}\n                                elementConfig={controls[key].elementConfig}\n                                value={controls[key].value}\n                                invalid={!controls[key].valid}\n                                shouldValidate={controls[key].validation}\n                                touched={controls[key].touched}\n                                changed={(event) => {\n                                    inputChangedHandler(event, key);\n                                }}\n                            />\n                        ))}\n                        <Button btnType=\"Success\" type=\"submit\">\n                            SUBMIT\n                        </Button>\n                    </form>\n                    <Button btnType=\"Danger\" clicked={switchAuthModeHandler}>\n                        SWITCH TO {isSignup ? \"SIGNIN\" : \"SIGNUP\"}\n                    </Button>\n                </>\n            )}\n        </div>\n    );\n};\n\nconst mapStateToProps = (state) => {\n    return {\n        loading: state.auth.loading,\n        error: state.auth.error,\n        isAuthenticated: state.auth.token !== null,\n        buildingBurger: state.burgerBuilder.building,\n        authRedirectPath: state.auth.authRedirectPath,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        onAuth: (email, password, isSignup) =>\n            dispatch(actions.auth(email, password, isSignup)),\n        onSetRedirectPath: () =>\n            dispatch(actions.setAuthRedirectPath(\"/\")),\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Auth);\n"],"names":["props","inputElement","inputClasses","invalid","shouldValidate","touched","push","elementType","_jsx","_objectSpread","className","join","elementConfig","value","onChange","changed","children","options","map","option","displayValue","_jsxs","label","connect","state","loading","auth","error","isAuthenticated","token","buildingBurger","burgerBuilder","building","authRedirectPath","dispatch","onAuth","email","password","isSignup","actions","onSetRedirectPath","controls","setControls","useState","type","placeholder","validation","required","isEmail","valid","minLength","setIsSignup","navigate","useNavigate","checkValidity","rules","isValid","trim","length","test","useEffect","message","Spinner","_Fragment","onSubmit","event","preventDefault","Object","keys","key","Input","inputChangedHandler","controlName","updatedControls","target","Button","btnType","clicked","switchAuthModeHandler","prevState"],"sourceRoot":""}