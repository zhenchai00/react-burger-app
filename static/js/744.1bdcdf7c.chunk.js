"use strict";(self.webpackChunkreact_burger_app=self.webpackChunkreact_burger_app||[]).push([[744],{211:(e,a,t)=>{t.d(a,{A:()=>i});var l=t(107),n=(t(999),t(695));const i=e=>{let a=null;const t=["InputElement"];switch(e.invalid&&e.shouldValidate&&e.touched&&t.push("Invalid"),e.elementType){case"input":default:a=(0,n.jsx)("input",(0,l.A)((0,l.A)({className:t.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}));break;case"textarea":a=(0,n.jsx)("textarea",(0,l.A)((0,l.A)({className:t.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}));break;case"select":a=(0,n.jsx)("select",(0,l.A)((0,l.A)({className:t.join(" "),value:e.value},e.elementConfig),{},{onChange:e.changed,children:e.elementConfig.options.map(e=>(0,n.jsx)("option",{value:e.value,children:e.displayValue},e.value))}))}return(0,n.jsxs)("div",{className:"Input",children:[e.label&&(0,n.jsx)("label",{className:"Label",children:e.label}),a]})}},744:(e,a,t)=>{t.r(a),t.d(a,{default:()=>h});var l=t(107),n=t(999),i=t(211),s=t(20),u=t(570),r=t(238),d=t(514),c=t(262),o=t(695);const h=(0,d.Ng)(e=>({loading:e.auth.loading,error:e.auth.error,isAuthenticated:null!==e.auth.token,buildingBurger:e.burgerBuilder.building,authRedirectPath:e.auth.authRedirectPath}),e=>({onAuth:(a,t,l)=>e(r.j2(a,t,l)),onSetRedirectPath:()=>e(r.KB("/"))}))(e=>{const[a,t]=(0,n.useState)({email:{elementType:"input",elementConfig:{type:"email",placeholder:"Mail Address"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1}}),[r,d]=(0,n.useState)(!0);let h=(0,c.Zp)();const p=(e,a)=>{let t=!0;if(a.required&&(t=""!==e.trim()&&t),a.minLength&&(t=e.length>=a.minLength&&t),a.isEmail){t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)&&t}return t};return(0,n.useEffect)(()=>{!1===e.buildingBurger&&"/"!==e.authRedirectPath&&e.onSetRedirectPath(),e.isAuthenticated&&h(e.authRedirectPath)},[]),(0,o.jsxs)("div",{className:"Auth",children:[e.error&&(0,o.jsx)("p",{children:e.error.message}),e.loading?(0,o.jsx)(u.A,{}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("form",{onSubmit:t=>{t.preventDefault(),e.onAuth(a.email.value,a.password.value,r)},children:[Object.keys(a).map(e=>(0,o.jsx)(i.A,{elementType:a[e].elementType,elementConfig:a[e].elementConfig,value:a[e].value,invalid:!a[e].valid,shouldValidate:a[e].validation,touched:a[e].touched,changed:n=>{((e,n)=>{const i=(0,l.A)((0,l.A)({},a),{},{[n]:(0,l.A)((0,l.A)({},a[n]),{},{value:e.target.value,valid:p(e.target.value,a[n].validation),touched:!0})});t(i)})(n,e)}},e)),(0,o.jsx)(s.A,{btnType:"Success",type:"submit",children:"SUBMIT"})]}),(0,o.jsxs)(s.A,{btnType:"Danger",clicked:()=>{d(e=>!e)},children:["SWITCH TO ",r?"SIGNIN":"SIGNUP"]})]})]})})}}]);
//# sourceMappingURL=744.1bdcdf7c.chunk.js.map